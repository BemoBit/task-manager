# 📚 راهنمای کامل سیستم مدیریت تسک با هوش مصنوعی

## 🎯 مقدمه

این سیستم یک پلتفرم پیشرفته برای مدیریت تسک‌ها با استفاده از هوش مصنوعی است که به شما کمک می‌کند:
- تسک‌های پیچیده را به زیرتسک‌های ساختاریافته تبدیل کنید
- از قالب‌های قابل تنظیم برای پروژه‌های مختلف استفاده کنید
- از چندین ارائه‌دهنده هوش مصنوعی (OpenAI، Claude، Gemini) بهره ببرید
- فرآیند اجرای تسک‌ها را به صورت پایپلاین مدیریت کنید
- آمار و گزارش‌های دقیق از عملکرد سیستم دریافت کنید

---

## 📱 منوهای سیستم و وظایف آن‌ها

### 1. 🏠 Dashboard (داشبورد اصلی)
**مسیر:** `/dashboard`

**وظایف:**
- نمایش خلاصه آمار تسک‌ها (کل، تکمیل شده، در حال انجام، شکست خورده)
- نمایش آمار استفاده از AI (تعداد درخواست‌ها، هزینه، زمان پاسخ)
- Timeline فعالیت‌های اخیر
- نمودارهای عملکرد (Trends تسک‌ها در طول زمان)
- دکمه‌های سریع (Quick Actions) برای عملیات‌های رایج

**چه زمانی استفاده کنیم:**
- برای دیدن وضعیت کلی سیستم
- بررسی سریع تسک‌های جاری
- مشاهده آخرین فعالیت‌ها

---

### 2. ✅ Tasks (مدیریت تسک‌ها)
**مسیر:** `/tasks`

**وظایف:**
- مشاهده تمام تسک‌ها به دو صورت:
  - **نمای Kanban:** کارت‌های قابل کشیدن در ستون‌های مختلف (Pending، In Progress، Completed، Failed)
  - **نمای List:** لیست جدولی با امکان فیلتر و مرتب‌سازی پیشرفته
- ایجاد تسک جدید
- ویرایش تسک‌های موجود
- تغییر وضعیت تسک‌ها
- فیلتر بر اساس وضعیت، اولویت، تگ‌ها و تاریخ
- عملیات گروهی (Bulk Actions) مثل حذف یا تکمیل چندین تسک

**چه زمانی استفاده کنیم:**
- برای ایجاد تسک جدید
- مدیریت روزانه تسک‌ها
- تغییر وضعیت تسک‌ها
- جستجو و فیلتر تسک‌های خاص

---

### 3. 🔄 Pipeline (پایپلاین اجرا)
**مسیر:** `/pipeline`

**وظایف:**
- ایجاد و مدیریت پایپلاین‌های اجرا
- تعریف مراحل (Phases) مختلف برای اجرای تسک
- نمایش وضعیت اجرای پایپلاین به صورت بصری
- مانیتورینگ منابع (CPU، Memory) در حین اجرا
- مشاهده نتایج هر مرحله
- توقف یا راه‌اندازی مجدد پایپلاین

**بخش‌های مختلف:**
- **Builder:** ساخت و تنظیم پایپلاین
- **Monitor:** نظارت بر اجرای فعال
- **Tasks:** تسک‌های مرتبط با پایپلاین
- **Results:** نتایج و خروجی‌های تولید شده

**چه زمانی استفاده کنیم:**
- برای اجرای خودکار فرآیندهای پیچیده
- وقتی می‌خواهید تسکی را به مراحل مختلف تقسیم کنید
- برای نظارت بر پیشرفت کارها

---

### 4. 🤖 AI Providers (ارائه‌دهندگان هوش مصنوعی)
**مسیر:** `/ai-providers`

**وظایف:**
- مدیریت ارائه‌دهندگان AI (OpenAI، Claude، Gemini و...)
- تنظیم API Key و Endpoint هر ارائه‌دهنده
- پیکربندی مدل‌های مختلف (GPT-4، Claude-3، Gemini-Pro)
- تنظیم پارامترهای مدل:
  - **Temperature:** میزان خلاقیت (0-2)
  - **Top P:** تنوع پاسخ‌ها (0-1)
  - **Max Tokens:** حداکثر طول پاسخ
  - **Frequency Penalty:** جلوگیری از تکرار
  - **Presence Penalty:** تشویق به موضوعات جدید
- اختصاص Provider به Phase های مختلف
- تعریف Fallback Providers (در صورت خطا)
- تست اتصال و عملکرد Provider
- مشاهده آمار استفاده از هر Provider

**بخش‌های مختلف:**
1. **Providers:** لیست و مدیریت Provider ها
2. **Models:** تنظیم مدل‌ها و پارامترها
3. **Phase Assignment:** اختصاص Provider به مراحل
4. **Analytics:** آمار استفاده و هزینه‌ها
5. **Testing:** تست و مقایسه Provider ها

**چه زمانی استفاده کنیم:**
- اضافه کردن Provider جدید
- تنظیم دقیق مدل‌های AI
- بهینه‌سازی هزینه و عملکرد
- آزمایش و مقایسه Provider های مختلف

---

### 5. 📄 Templates (قالب‌ها)
**مسیر:** `/templates`

**وظایف:**
- مشاهده لیست تمام قالب‌های موجود
- ایجاد قالب جدید
- Import/Export قالب‌ها
- مشاهده تعداد دفعات استفاده از هر قالب
- مشاهده آخرین تاریخ ویرایش

**قالب‌های پیش‌فرض:**
- **Default Task Template:** قالب عمومی برای تسک‌ها
- **API Development Template:** برای پروژه‌های API محور
- **Frontend Component Template:** برای کامپوننت‌های فرانت‌اند

**چه زمانی استفاده کنیم:**
- برای مشاهده قالب‌های آماده
- وقتی می‌خواهید قالب جدیدی import کنید
- برای بررسی محبوبیت قالب‌ها

---

### 6. 📝 Template Editor (ویرایشگر قالب)
**مسیر:** `/editor`

**وظایف:**
این بخش پیچیده‌ترین و قدرتمندترین بخش سیستم است که به شما امکان می‌دهد قالب‌های سفارشی بسازید.

**ساختار صفحه:**
- **سایدبار چپ:** ساختار درختی قالب (Template Tree)
- **پنل مرکزی:** سه تب اصلی
  - **Builder:** ساخت بخش‌ها با Drag & Drop
  - **Editor:** ویرایش محتوا با Rich Text Editor
  - **Preview:** پیش‌نمایش نهایی
- **سایدبار راست:** پنل ویژگی‌ها (Properties)

**قابلیت‌های کلیدی:**

1. **مدیریت بخش‌ها (Sections):**
   - 4 نوع بخش پیش‌فرض:
     - **Data Model:** تعریف مدل داده
     - **Services:** معماری سرویس‌ها
     - **HTTP/API:** درخواست‌های API
     - **Tests:** سناریوهای تست
   - ایجاد بخش سفارشی
   - زیربخش‌ها (Subsections)
   - Drag & Drop برای مرتب‌سازی

2. **ویرایشگر متن (Rich Text Editor):**
   - فرمت‌های متنی (Bold، Italic، Code)
   - لیست‌ها (Bullet، Numbered)
   - جداول
   - تصویر
   - کدبلاک با Syntax Highlighting
   - درج متغیر با سینتکس `{{variableName}}`

3. **سیستم متغیرها (Variables):**
   - تعریف متغیرها با انواع مختلف:
     - String (رشته)
     - Number (عدد)
     - Boolean (درست/نادرست)
     - Array (آرایه)
     - Object (شیء)
   - Scope متغیر (Global یا Section)
   - مقدار پیش‌فرض
   - Required/Optional
   - توضیحات برای هر متغیر

4. **قابلیت‌های اضافی:**
   - Undo/Redo (برگشت/جلو)
   - Auto-save هر 30 ثانیه
   - Import/Export به JSON
   - Version Control

**چه زمانی استفاده کنیم:**
- برای ساخت قالب جدید برای نوع خاصی از پروژه
- سفارشی‌سازی قالب‌های موجود
- تعریف ساختار استاندارد برای تیم

---

### 7. 📊 Analytics (آمار و گزارش)
**مسیر:** `/analytics`

**وظایف:**
- نمایش گزارش‌های جامع از عملکرد سیستم
- **Provider Performance:**
  - نرخ موفقیت هر Provider
  - میانگین زمان پاسخ
  - مقایسه Provider ها
- **Template Usage:**
  - تعداد استفاده از هر قالب
  - نرخ موفقیت قالب‌ها
  - میانگین زمان اجرا
- **Cost Analysis:**
  - تحلیل هزینه‌ها در طول زمان
  - هزینه به تفکیک Provider
  - پیش‌بینی هزینه
- **ROI Metrics:**
  - زمان صرفه‌جویی شده
  - تحلیل هزینه-فایده
  - محاسبه ROI

**چه زمانی استفاده کنیم:**
- برای بررسی عملکرد Provider ها
- تحلیل هزینه‌ها و بودجه
- تصمیم‌گیری درباره بهینه‌سازی

---

### 8. 🔔 Notifications (اعلان‌ها)
**مسیر:** `/notifications`

**وظایف:**
- نمایش تمام اعلان‌های سیستم
- فیلتر خوانده شده/خوانده نشده
- علامت‌گذاری به عنوان خوانده شده
- حذف اعلان‌ها
- انواع اعلان:
  - تکمیل تسک
  - شروع پایپلاین
  - خطای AI Provider
  - Mention شدن در نظرات
  - تخصیص تسک جدید

**چه زمانی استفاده کنیم:**
- برای بررسی اعلان‌های جدید
- پیگیری تغییرات و رویدادها
- مدیریت اعلان‌های خوانده نشده

---

### 9. 👥 Team (مدیریت تیم)
**مسیر:** `/team`

**وظایف:**
- مشاهده اعضای تیم
- دعوت اعضای جدید (با ایمیل)
- مدیریت نقش‌ها:
  - **Owner:** مالک (دسترسی کامل)
  - **Admin:** مدیر (دسترسی مدیریتی)
  - **Member:** عضو (دسترسی محدود)
- مشاهده وضعیت اعضا (Active، Invited)
- حذف اعضا
- ارسال مجدد دعوت‌نامه

**چه زمانی استفاده کنیم:**
- اضافه کردن اعضای جدید به تیم
- تغییر سطح دسترسی اعضا
- مدیریت دعوت‌نامه‌ها

---

### 10. ⚙️ Settings (تنظیمات)
**مسیر:** `/settings`

**بخش‌های مختلف:**

1. **Profile (پروفایل):**
   - نام کاربری
   - ایمیل
   - سازمان
   - ویرایش اطلاعات شخصی

2. **Notifications (اعلان‌ها):**
   - فعال/غیرفعال کردن اعلان ایمیل
   - اعلان تکمیل تسک
   - اعلان به‌روزرسانی پایپلاین
   - هشدار AI Provider

3. **Security (امنیت):**
   - تغییر رمز عبور
   - احراز هویت دو مرحله‌ای (2FA)
   - مدیریت Session ها

4. **Appearance (ظاهر):**
   - Dark Mode/Light Mode
   - Compact Mode
   - تنظیمات نمایش

5. **Data (داده):**
   - Export تمام داده‌ها
   - پشتیبان‌گیری
   - حذف حساب کاربری

**چه زمانی استفاده کنیم:**
- تنظیم اولیه حساب کاربری
- تغییر تنظیمات شخصی
- مدیریت امنیت و حریم خصوصی

---

## 🎬 مثال کامل: فلوی استفاده از سیستم

### سناریو: ساخت یک Feature جدید برای اپلیکیشن

#### مرحله 1: راه‌اندازی AI Provider ⚙️
```
1. به بخش AI Providers بروید (/ai-providers)
2. روی "Add Provider" کلیک کنید
3. اطلاعات را وارد کنید:
   - نام: OpenAI GPT-4
   - Type: OpenAI
   - API Key: sk-...
   - Endpoint: https://api.openai.com/v1
4. مدل را انتخاب کنید: gpt-4-turbo
5. پارامترها را تنظیم کنید:
   - Temperature: 0.7
   - Max Tokens: 2000
6. روی "Test Connection" کلیک کنید
7. ذخیره کنید
```

#### مرحله 2: ساخت قالب (Template) 📝
```
1. به Template Editor بروید (/editor)
2. نام قالب را وارد کنید: "User Authentication Feature"
3. بخش‌های زیر را اضافه کنید:
   
   الف) Data Model:
   - عنوان: "Database Schema"
   - محتوا: جداول User، Session، Token
   - متغیر: {{databaseType}} = PostgreSQL
   
   ب) Services:
   - عنوان: "Authentication Service"
   - محتوا: AuthService، TokenService، UserService
   - متغیر: {{framework}} = NestJS
   
   ج) HTTP/API:
   - عنوان: "API Endpoints"
   - محتوا: POST /auth/login، POST /auth/register
   - متغیر: {{apiPrefix}} = /api/v1
   
   د) Tests:
   - عنوان: "Test Scenarios"
   - محتوا: Unit tests، Integration tests
   - متغیر: {{testFramework}} = Jest

4. متغیرهای Global را تعریف کنید:
   - projectName: نوع String
   - language: نوع String، مقدار پیش‌فرض: TypeScript
   - useDocker: نوع Boolean، مقدار پیش‌فرض: true

5. Preview را بررسی کنید
6. Save کنید
```

#### مرحله 3: تنظیم پایپلاین 🔄
```
1. به Pipeline بروید (/pipeline)
2. "Create New Pipeline" را کلیک کنید
3. نام: "Auth Feature Pipeline"
4. به تب "Builder" بروید
5. Phase های زیر را اضافه کنید:

   Phase 1: Task Decomposition
   - Provider: OpenAI GPT-4
   - Template: User Authentication Feature
   - Input: Project requirements
   
   Phase 2: Code Generation
   - Provider: OpenAI GPT-4 (with Fallback: Claude-3)
   - Template: Code Generator
   - Input: از خروجی Phase 1
   
   Phase 3: Test Generation
   - Provider: Claude-3
   - Template: Test Generator
   - Input: از خروجی Phase 2

6. System Prompt را برای هر Phase تنظیم کنید
7. Save Pipeline کنید
```

#### مرحله 4: ایجاد تسک 📋
```
1. به Tasks بروید (/tasks)
2. "New Task" را کلیک کنید
3. اطلاعات را وارد کنید:
   - عنوان: "Implement User Authentication"
   - توضیحات: "Add JWT-based authentication with refresh tokens"
   - Priority: High
   - Tags: authentication، backend، security
   - Template: "User Authentication Feature"
   - Pipeline: "Auth Feature Pipeline"
4. متغیرها را پر کنید:
   - projectName: "My App"
   - language: "TypeScript"
   - framework: "NestJS"
   - databaseType: "PostgreSQL"
5. Create Task کنید
```

#### مرحله 5: اجرای پایپلاین ▶️
```
1. تسک به‌طور خودکار وارد Pipeline می‌شود
2. به Pipeline Monitor بروید (/pipeline)
3. اجرا را شروع کنید با کلیک روی "Start"
4. پیشرفت را ببینید:
   - Phase 1: در حال اجرا... ⏳
   - Phase 1: تکمیل ✅ (3 subtask ایجاد شد)
   - Phase 2: در حال اجرا... ⏳
   - Phase 2: تکمیل ✅ (کدها تولید شد)
   - Phase 3: در حال اجرا... ⏳
   - Phase 3: تکمیل ✅ (تست‌ها تولید شد)
5. به تب "Results" بروید
6. خروجی‌ها را دانلود کنید (JSON، Markdown، یا PDF)
```

#### مرحله 6: بررسی نتایج و آمار 📊
```
1. به Dashboard بروید (/dashboard)
   - مشاهده تسک تکمیل شده
   - چک کردن آمار AI Usage

2. به Analytics بروید (/analytics)
   - بررسی هزینه تسک
   - مشاهده زمان اجرا
   - مقایسه عملکرد Provider ها

3. به Notifications بروید (/notifications)
   - مشاهده اعلان تکمیل تسک
   - بررسی نتایج
```

#### مرحله 7: استفاده از نتایج 🎯
```
نتایج شامل:
1. ساختار پروژه کامل
2. کدهای آماده اجرا
3. فایل‌های تست
4. مستندات API
5. Docker configuration
6. دستورالعمل نصب

این نتایج را می‌توانید:
- کپی کنید در پروژه
- ویرایش و سفارشی کنید
- با تیم به اشتراک بگذارید
```

---

## 🔄 فلوی کلی کار با سیستم

### شروع سریع (10 دقیقه)
```
1. Login/Register ➜ ورود به سیستم
2. Settings ➜ تنظیم Profile
3. AI Providers ➜ اضافه کردن یک Provider (مثلاً OpenAI)
4. Templates ➜ انتخاب یا ساخت قالب
5. Tasks ➜ ایجاد اولین تسک
```

### کار روزانه
```
1. Dashboard ➜ بررسی وضعیت کلی
2. Notifications ➜ چک کردن اعلان‌ها
3. Tasks ➜ مدیریت تسک‌های جاری
4. Pipeline ➜ اجرای تسک‌های جدید
5. Analytics ➜ بررسی عملکرد (هفتگی)
```

### توسعه قالب جدید (30-60 دقیقه)
```
1. Template Editor ➜ باز کردن
2. ساخت ساختار بخش‌ها
3. تعریف متغیرها
4. نوشتن محتوا
5. Preview و Test
6. Save و Export
```

### تنظیم پایپلاین پیشرفته (20-40 دقیقه)
```
1. Pipeline ➜ Create New
2. تعریف Phase ها
3. انتخاب Provider برای هر Phase
4. تنظیم Fallback ها
5. نوشتن System Prompt ها
6. Test اجرا
```

---

## 💡 نکات و توصیه‌ها

### بهینه‌سازی هزینه
- از Provider های ارزان‌تر برای Phase های ساده استفاده کنید
- Cache را فعال نگه دارید
- Temperature را برای وظایف ساده کم کنید
- Max Tokens را محدود کنید

### بهینه‌سازی کیفیت
- System Prompt های واضح و دقیق بنویسید
- از چند Provider به عنوان Fallback استفاده کنید
- قالب‌ها را با مثال‌های واقعی تست کنید
- Temperature بالاتر برای خلاقیت بیشتر

### سازماندهی تیمی
- قالب‌های استاندارد تیمی بسازید
- نقش‌ها را به درستی تعریف کنید
- از Template Versioning استفاده کنید
- مستندات داخلی بنویسید

### امنیت
- API Key ها را به اشتراک نگذارید
- دسترسی اعضا را محدود کنید
- از 2FA استفاده کنید
- پشتیبان منظم بگیرید

---

## 🚨 رفع مشکلات رایج

### AI Provider خطا می‌دهد
```
بررسی کنید:
1. API Key صحیح است؟
2. اعتبار کافی دارید؟
3. Rate Limit نشده‌اید؟
4. Endpoint درست است؟

راه‌حل:
- Provider را Test کنید
- Fallback Provider تنظیم کنید
- Retry Count را افزایش دهید
```

### Pipeline متوقف می‌شود
```
دلایل محتمل:
1. خطای Provider
2. تایم‌اوت
3. خطای Template
4. ورودی نامعتبر

راه‌حل:
- لاگ‌ها را بررسی کنید
- Input را چک کنید
- Template را دوباره تست کنید
```

### قالب درست کار نمی‌کند
```
بررسی کنید:
1. متغیرها تعریف شده‌اند؟
2. Syntax صحیح است {{variable}}؟
3. بخش‌ها ترتیب درستی دارند؟

راه‌حل:
- Preview را چک کنید
- Variable Manager را باز کنید
- از قالب‌های آماده استفاده کنید
```

---

## 📖 منابع اضافی

### مستندات داخلی
- `DASHBOARD_SYSTEM.md` - راهنمای داشبورد
- `GUIDE.md` - راهنمای Template Editor
- `AI_PROVIDER_QUICK_START.md` - راهنمای AI Providers
- `PIPELINE_QUICK_START.md` - راهنمای Pipeline

### لینک‌های مفید
- داشبورد: http://localhost:3000/dashboard
- API Docs: http://localhost:3001/api/docs
- GitHub: Repository پروژه

---

## ✅ چک‌لیست شروع کار

### نصب و راه‌اندازی
- [ ] نصب Dependencies
- [ ] تنظیم Database
- [ ] راه‌اندازی Backend
- [ ] راه‌اندازی Frontend

### تنظیمات اولیه
- [ ] ساخت حساب کاربری
- [ ] تنظیم Profile
- [ ] اضافه کردن AI Provider
- [ ] تست اتصال Provider

### اولین تسک
- [ ] انتخاب یا ساخت Template
- [ ] ایجاد Pipeline
- [ ] ایجاد Task
- [ ] اجرا و دریافت نتیجه

### یادگیری پیشرفته
- [ ] ساخت قالب سفارشی
- [ ] تنظیم پایپلاین چند مرحله‌ای
- [ ] دعوت اعضای تیم
- [ ] بررسی Analytics

---

**تاریخ:** 31 اکتبر 2025  
**نسخه:** 1.0  
**وضعیت:** راهنمای کامل و آماده استفاده ✅
